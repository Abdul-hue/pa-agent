# Supabase
SUPABASE_URL=https://dieozzsqexhptpfwrhxk.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key  # keep local only

# Storage
# Supabase bucket that stores uploaded agent documents
AGENT_FILES_BUCKET=agent-files

# Webhook endpoints
# Use the test endpoint while developing (requires n8n workflow test mode)
WEBHOOK_ENDPOINT=https://auto.nsolbpo.com/webhook-test/upload-documents
# Optional legacy variable name for compatibility (overrides WEBHOOK_ENDPOINT if set)
# AGENT_DOCUMENT_WEBHOOK_URL=https://auto.nsolbpo.com/webhook-test/upload-documents

# WhatsApp message forwarding webhooks
# Used to forward 1:1 WhatsApp messages (incoming & outgoing) to your automation
# You can set a single URL via WHATSAPP_MESSAGE_WEBHOOK, or environment-specific URLs below.
# WHATSAPP_MESSAGE_WEBHOOK=https://your-webhook-url.example.com
WHATSAPP_MESSAGE_WEBHOOK_TEST=https://auto.nsolbpo.com/webhook-test/a18ff948-9380-4abe-a8d8-0912dae2d8ab
# Set this in production environments to route live traffic
# WHATSAPP_MESSAGE_WEBHOOK_PROD=https://auto.nsolbpo.com/webhook/a18ff948-9380-4abe-a8d8-0912dae2d8ab

# Extractor Config
# Maximum file size (bytes) allowed when downloading from Supabase for extraction
EXTRACTOR_MAX_FILE_BYTES=10485760

# Pinecone Vector Store (required for document embeddings)
# Create a dense index with dimension 1536 (e.g. metric=dotproduct or cosine)
PINECONE_API_KEY=your_pinecone_api_key
PINECONE_INDEX_NAME=your_pinecone_index_name
# PINECONE_ENVIRONMENT is unused with Pinecone Serverless; remove or leave commented out
# Optional: override default chunk size/overlap
# PINECONE_CHUNK_WORDS=500
# PINECONE_CHUNK_OVERLAP=50

# OpenAI Embeddings
OPENAI_API_KEY=your_openai_api_key
# Defaults to text-embedding-3-small when unset
# OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# Gmail OAuth Configuration
# Your credentials (add these to your .env file):
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
# Redirect URI for Gmail OAuth callback
# ⚠️ IMPORTANT: Add this EXACT URL to Google Console → OAuth 2.0 Client → Authorized redirect URIs
# Development: http://localhost:3001/api/gmail/callback
# Production: https://your-backend-url.com/api/gmail/callback
GOOGLE_REDIRECT_URI=http://localhost:3001/api/gmail/callback
# Frontend URL for redirects after OAuth
FRONTEND_URL=http://localhost:5173
# Backend URL (for production)
BACKEND_URL=http://localhost:3001

# Gmail Real-time Configuration (Pub/Sub)
# Google Cloud Project ID (required for Gmail watch)
GOOGLE_PROJECT_ID=your-project-id
# Gmail Pub/Sub Topic (optional, will use default if not set)
GMAIL_TOPIC=projects/your-project-id/topics/gmail-notifications
# External webhook URL for email notifications
EXTERNAL_WEBHOOK_URL=https://auto.nsolbpo.com/webhook/pa-email